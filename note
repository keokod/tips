setting.php

    // Global Settings Page
    $global = new admin_settingpage('theme_moockie_global_settings', get_string('settings:global:title', 'theme_moockie'), 'theme/moockie:configure');
    $setting = new moockie_simple_theme_settings($global, 'theme_moockie', 'settings:global:');
    $setting->add_file('faviconperso');
    
    
theme_mookie.php
// Dashboard courses
$string['settings:global:showdashboardcourses'] = 'Frontpage courses';
$string['settings:global:showdashboardcoursesdesc'] = 'Display courses on homepage';
$string['settings:global:faviconperso'] = 'favicon';
$string['settings:global:faviconpersodesc'] = 'edit new favicon';
        
        
renderer/core_renderer.php
    public function favicon() {
        
     //    return $this->image_url('favicon', 'theme');
         return $this->page->theme->setting_file_url('faviconperso', 'faviconperso');
      //  return "kkkk";
    }


    public function favicon() {
        
        if (!empty($this->page->theme->settings->favicon)) {
            
            global $CFG;
            if (empty($this->themeconfig)) {
                $this->themeconfig = $theme = theme_config::load('moockie');
            }else{
                return parent::favicon();
            }
            $bannertemp = new stdClass();
            return $this->themeconfig->setting_file_url('faviconperso', 'faviconperso');
        }
        return parent::favicon();
        

    }
    
    function theme_moockie_pluginfile($course, $cm, $context, $filearea, $args, $forcedownload, array $options = array()) {
    if ($context->contextlevel == CONTEXT_SYSTEM) {
        $theme = theme_config::load('moockie');
        // By default, theme files must be cache-able by both browsers and proxies.
        if (!array_key_exists('cacheability', $options)) {
            $options['cacheability'] = 'public';
        }

        $validareas = array('bannerback', 'loginbackground', 'loginbackground', 'sitelogo', 'moockiefooterimages' , 'faviconperso');
